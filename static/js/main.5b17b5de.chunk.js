(this.webpackJsonptrading=this.webpackJsonptrading||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){},106:function(e,n,t){},130:function(e,n,t){},131:function(e,n,t){},132:function(e,n,t){},133:function(e,n,t){},134:function(e,n,t){"use strict";t.r(n);var o=t(2),a=t(0),c=t.n(a),i=t(47),l=t.n(i),s=(t(104),t(14)),r=t(177),d=t(164),u={gapSpace:0},f={root:{display:"inline-block"}},b=function(e){var n=e.children,t=Object(d.a)("tooltip");return Object(o.jsx)("div",{style:{display:"flex"},children:Object(o.jsx)(r.a,{content:"Coming soon!",id:t,calloutProps:u,styles:f,children:n})})},v=t.p+"static/media/logo.8f68dbf0.png",m=(t(105),function(){var e=function(){window.scrollY>20?document.querySelector(".navbar").classList.add("scrolled"):document.querySelector(".navbar").classList.remove("scrolled")};return c.a.useEffect((function(){return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(o.jsxs)("div",{className:"navbar",children:[Object(o.jsxs)("div",{className:"navbar-left",children:[Object(o.jsxs)("div",{className:"container-logo",children:[Object(o.jsx)("img",{className:"img-logo",src:v,alt:"logo"}),Object(o.jsx)("img",{className:"img-logo-add",src:v,alt:"logo"}),Object(o.jsx)("img",{className:"img-logo-add",src:v,alt:"logo"})]}),Object(o.jsx)("ul",{className:"list-menu",children:Object(o.jsx)("li",{className:"menu-item active",children:"pSwap"})})]}),Object(o.jsx)(b,{children:Object(o.jsx)("div",{className:"cursor-not-allowed btn-trans",children:Object(o.jsx)("a",{href:"#/",className:"btn cursor-not-allowed",children:"Connect LSB Wallet"})})})]})}),p=(t(106),c.a.createContext()),j=t(35),h=t(40),O=t(63),k=t(16),x=t(20),S=t.n(x),y=t(33),g=t(8),N=t.n(g),T=t(29),I=t(21),w=t(178),D=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!==typeof e||n&&(e=e.replace(/,/g,"")),e},P=function(e,n){try{var t=function(e){var n=D(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return N.a.toNumber(n)}(e);return function(e){if(!Number.isFinite(e))throw new Error("Can not format invalid amount")}(t),t/(Number(n)?Math.pow(10,Number(n)):1)}catch(o){return e}},R=function(e,n,t){var o=e.find((function(e){return e.id===n}));return t/Math.pow(10,(null===o||void 0===o?void 0:o.pDecimals)||0)},C="0000000000000000000000000000000000000000000000000000000000000004",E=[C,"1ff2da446abfebea3ba30385e2ca99b0f0bbeda5c6371f4c23c939672b429a42","716fd1009e2a1669caacc36891e707bfdf02590f96ebd897548e8963c95ebac0","3f89c75324b46f13c7b036871060e641d996a24c09b3065835cb1d38b799d6c1","b832e5d3b1f01a4f0623f7fe91d6673461e1f5d37d91fe78c5c2e6183ff39696","ffd8d42dc40a8d166ea4848baf8b5f6e9fe0e9c30d60062eb7d44a8df9e00854","ffd8d42dc40a8d166ea4848baf8b5f6e912ad79875f4373070b59392b1756c8f","c01e7dc1d1aba995c19b257412340b057f8ad1482ccb6a9bb0adce61afbf05d4","9e1142557e63fd20dee7f3c9524ffe0aa41198c494aa8d36447d12e85f0ddce7","8c3a61e77061265aaefa1e7160abfe343c2189278dd224bb7da6e7edc6a1d4db","465b0f709844be95d97e1f5c484e79c6c1ac51d28de2a68020e7313d34f644fe","d240c61c6066fed0535df9302f1be9f5c9728ef6d01ce88d525c4f6ff9d65a56","4a790f603aa2e7afe8b354e63758bb187a4724293d6057a46859c81b7bd0e9fb","b2655152784e8639fa19521a7035f331eea1f1e911b2f3200a507ebb4554387b","caaf286e889a8e0cee122f434d3770385a0fd92d27fcee737405b73c45b4f05f","e0926da2436adc42e65ca174e590c7b17040cd0b7bdf35982f0dd7fc067f6bcf","513467653e06af73cd2b2874dd4af948f11f1c6f2689e994c055fd6934349e05","249ca174b4dce58ea6e1f8eda6e6f74ab6a3de4e4913c4f50c15101001bb467b","a0a22d131bbfdc892938542f0dbe1a7f2f48e16bc46bf1c5404319335dc1f0df","2dda855fb4660225882d11136a64ad80effbddfa18a168f78924629b8664a6b3","de395b1914718702687b477703bdd36e52119033a9037bb28f6b33a3d0c2f867","d09ad0af0a34ea3e13b772ef9918b71793a18c79b2b75aec42c53b69537029fe","880ea0787f6c1555e59e3958a595086b7802fc7a38276bcd80d4525606557fbc"],A={id:"0000000000000000000000000000000000000000000000000000000000000004",name:"Privacy",displayName:"Privacy",symbol:"PRV",pDecimals:9,hasIcon:!0,originalSymbol:"PRV",isVerified:!0},V=function(e,n){return[A].concat(Object(I.a)(N()([].concat(Object(I.a)(e),Object(I.a)(n))).uniqBy((function(e){return e.tokenId||e.id})).map((function(e){var t=n.find((function(n){return n.tokenId===(e.tokenId||e.id)}));return t&&"ETH"===t.symbol&&1===t.currencyType&&(t.address="0x0000000000000000000000000000000000000000"),Object(k.a)(Object(k.a)({},e),{},{address:(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.contractId),id:e.tokenId||e.id,pDecimals:Math.min((null===t||void 0===t?void 0:t.pDecimals)||0,9),decimals:null===t||void 0===t?void 0:t.decimals,hasIcon:!!t,symbol:(null===t||void 0===t?void 0:t.symbol)||e.symbol,displayName:t?"Privacy ".concat(t.symbol):"Incognito ".concat(e.name),name:t?t.name:e.name,isVerified:e.verified||(null===t||void 0===t?void 0:t.verified)})})).orderBy(["hasIcon",function(e){return E.indexOf(null===e||void 0===e?void 0:e.id)>-1?E.indexOf(null===e||void 0===e?void 0:e.id):100},function(e){return N.a.isString(e.symbol)&&e.symbol.toLowerCase()}],["desc","asc"]).value()))},L=function(){var e=Object(y.a)(S.a.mark((function e(){var n,t,o,a,c,i,l,r,d,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Date.now(),e.next=4,Promise.all([fetch("https://api-service.incognito.org/ptoken/list").then((function(e){return e.json()})).then((function(e){return e.Result})).catch((function(e){return console.log(e)})),fetch("https://api-service.incognito.org/pcustomtoken/list?tokenId=undefined").then((function(e){return e.json()})).then((function(e){return e.Result})).catch((function(e){return console.log(e)})),fetch("https://device-network.incognito.org/chain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"1.0",method:"getpdestate",params:[],id:1})}).then((function(e){return e.json()})).then((function(e){return e.Result})).catch((function(e){return console.log(e)}))]);case 4:return t=e.sent,o=Object(s.a)(t,3),a=o[0],c=o[1],i=o[2],l=V(c,a),r=Date.now(),console.debug("LOAD PAIRS IN: ",r-n),d=N()(i.PDEPoolPairs).map((function(e){var n;return n={},Object(T.a)(n,e.Token1IDStr,e.Token1PoolValue),Object(T.a)(n,e.Token2IDStr,e.Token2PoolValue),Object(T.a)(n,"total",R(l,e.Token1IDStr,e.Token1PoolValue)+R(l,e.Token2IDStr,e.Token2PoolValue)),Object(T.a)(n,"keys",[e.Token1IDStr,e.Token2IDStr]),n})).filter((function(e){return e.keys.includes(C)})).filter((function(e){return e.total})).orderBy("total","desc").value(),u=i.PDEShares,Object.keys(u).forEach((function(e){0===u[e]&&delete u[e]})),e.abrupt("return",{pairs:d,tokens:l,shares:u});case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),B=function(){return Object(w.a)("useGetPairsData.name",(function(){return L()}))},z=t(30),F=t.n(z),M=function(e){for(var n=e;n.length>0&&(n.includes(".")&&"0"===n[n.length-1]||"."===n[n.length-1]);)n=n.slice(0,n.length-1);return n},H=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{var c={decimalSeparator:".",groupSeparator:",",groupSize:3},i=e,l=P(n,t);if(o){var s=t;l>0&&l<1&&a&&(s=5),l>1&&(s=4),l>1e3&&(s=2),l>1e5&&(s=0),l=t?N.a.floor(l,Math.min(t,s)):N.a.floor(l,s)}if(!Number.isFinite(l))throw new Error("Can not format invalid amount");return l>0&&l<1&&(i=void 0),l?M(new z.BigNumber(l).toFormat(i,z.BigNumber.ROUND_DOWN,c)):0}catch(r){return n}}},U=H(4),G=H(4),W="0000000000000000000000000000000000000000000000000000000000000004",q=function(e,n,t,o){try{if(!e)return 0;var a=e[n.id],c=e[o.id],i=a*c,l=a+t;return c-N.a.ceil(i/l)}catch(s){console.debug("CALCULATE OUTPUT",s)}},J=function(e,n,t,o,a,c,i,l){var s,r,d=P(e*a,c),u=P(t*i,l);if(d&&u){var f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return isNaN(e)||isNaN(n)?NaN:Math.trunc(e*Math.pow(10,n))/Math.pow(10,n)}((s=d,r=u,s=new z.BigNumber(s),(r=new z.BigNumber(r)).minus(s).dividedBy(s).multipliedBy(100).toNumber()),3);if(!Object(g.isNaN)(f)){var b=G(f);return{impact:f>0?"+".concat(b):b,showWarning:f<-5}}}return{impact:null,showWarning:!1}},Q=function(e){return(100-e)/100},K=function(e){try{var n=e.pair,t=e.inputToken,o=e.inputValue,a=e.outputToken,c=e.slippage,i=function(e,n,t,o){var a=Y(n,o,e),c=Object(s.a)(a,2),i=c[0],l=c[1],r=n,d=t;return l&&(d=q(i,r,d,A),r=A),(d=q(l||i,r,d,o))<0&&(d=0),d}(n,t,o,a),l=Object(g.floor)(i*Q(c)),r=U(l,null===a||void 0===a?void 0:a.pDecimals);return(0===i||0===l||Object(g.isNaN)(l))&&(r=0),{minimumAmount:l,quote:null,outputText:r+=""}}catch(d){console.debug("TRADE CALCULATOR TRADE STAGE INCOGNITO ERROR: ",d)}},Y=function(e,n,t){try{if(e&&n){if((null===e||void 0===e?void 0:e.id)===W||(null===n||void 0===n?void 0:n.id)===W)return[t.find((function(t){return t.keys.includes(null===e||void 0===e?void 0:e.id)&&t.keys.includes(null===n||void 0===n?void 0:n.id)}))];var o=t.find((function(n){return n.keys.includes(null===e||void 0===e?void 0:e.id)&&n.keys.includes(W)})),a=t.find((function(e){return e.keys.includes(null===n||void 0===n?void 0:n.id)&&e.keys.includes(W)}));if(o&&a)return[o,a]}return[]}catch(c){console.debug("TRADE GET PAIR WITH ERROR",c)}},_=t(60),X=t.n(_),Z="https://api-service.incognito.org",$="ETH",ee="Kyber",ne="Incognito";function te(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(y.a)(S.a.mark((function e(n){var t,o,a,c,i,l,s,r,d,u,f,b,v,m,p,j;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.sellToken,a=n.sellAmount,c=n.buyToken,i=o.address,l=c.address,o.symbol===$&&(i="0x0000000000000000000000000000000000000000"),c.symbol===$&&(l="0x0000000000000000000000000000000000000000"),s="".concat(Z,"/uniswap/rate?SrcToken=").concat(i,"&DestToken=").concat(l,"&AmountIn=").concat(a),e.next=8,X.a.get(s);case 8:if(r=e.sent,d=null===r||void 0===r||null===(t=r.data.Result.ListRate)||void 0===t?void 0:t.find((function(e){return(null===e||void 0===e?void 0:e.DappName)===(null===r||void 0===r?void 0:r.data.Result.DappName)})),p={},d)try{v=new F.a((null===d||void 0===d?void 0:d.AmountInput)||(null===r||void 0===r?void 0:r.AmountInput)||0).dividedToIntegerBy(1).toNumber(),m=new F.a((null===d||void 0===d?void 0:d.AmountOutput)||(null===r||void 0===r?void 0:r.AmountOutput)||0).dividedToIntegerBy(1).toNumber(),u=(null===d||void 0===d?void 0:d.ExpectedRate)||(null===r||void 0===r?void 0:r.ExpectedRate),f=(null===d||void 0===d?void 0:d.DappName)||(null===r||void 0===r?void 0:r.DappName),b=(null===d||void 0===d?void 0:d.DappAddress)||(null===r||void 0===r?void 0:r.DappAddress),Object(g.sortBy)((null===d||void 0===d?void 0:d.Fee)||[],["PRVAmount"]).forEach((function(e,n){var t=null===e||void 0===e?void 0:e.Name.toUpperCase(),o=new F.a((null===e||void 0===e?void 0:e.PRVAmount)||0).dividedToIntegerBy(1).toNumber()||0,a=null===e||void 0===e?void 0:e.GasPrice,c=++n;p[t]={key:t,tradingFee:o,number:c,gasPrice:a}}))}catch(h){console.debug("ERROR",h)}return j={maxAmountOut:m,maxAmountIn:v,expectAmount:u,protocol:f,dAppAddress:b,priorityList:p,network:ee||ne,crossTrade:ee===ne},console.debug("RESPONSE GETTING QUOTE ERC20 BEST RATE: ",d),console.debug("RESPONSE GETTING QUOTE ERC20 DATA: ",j),e.abrupt("return",j);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,ce="0000000000000000000000000000000000000000000000000000000000000004",ie=(t(130),function(e){var n,t,a=e.impact,i=e.fee,l=e.poolSize,s=c.a.useContext(p);return Object(o.jsxs)("div",{className:"overlay-detail",children:[Object(o.jsxs)("div",{className:"item first-item",children:[Object(o.jsx)("span",{className:"label",children:"Price Impact"}),Object(o.jsxs)("span",{className:"price-impact",children:[a.impact||0,"%"]})]}),Object(o.jsxs)("div",{className:"item first-item",children:[Object(o.jsx)("span",{className:"label",children:"Fee"}),Object(o.jsx)("span",{className:"",children:(null===(n=s.tokenSell)||void 0===n?void 0:n.id)&&(null===(t=s.tokenReceive)||void 0===t?void 0:t.id)&&function(e){var n,t,o,a,c,i;return e.fee<100?((null===e||void 0===e?void 0:e.fee)*Math.pow(10,-(null===(n=e.feeToken)||void 0===n?void 0:n.pDecimals))).toFixed((null===(t=e.feeToken)||void 0===t?void 0:t.pDecimals)-1):e.fee>=100&&e.fee<1e3?((null===e||void 0===e?void 0:e.fee)*Math.pow(10,-(null===(o=e.feeToken)||void 0===o?void 0:o.pDecimals))).toFixed((null===(a=e.feeToken)||void 0===a?void 0:a.pDecimals)-2):((null===e||void 0===e?void 0:e.fee)*Math.pow(10,-(null===(c=e.feeToken)||void 0===c?void 0:c.pDecimals))).toFixed((null===(i=e.feeToken)||void 0===i?void 0:i.pDecimals)-3)}(i)||0})]}),l.output1?l.output2?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"item first-item",children:[Object(o.jsx)("span",{className:"label",children:"Pool Size"}),Object(o.jsx)("span",{className:"pool-size",children:"".concat(null===l||void 0===l?void 0:l.output1[0]," ").concat(s.tokenSell.symbol," + ").concat(null===l||void 0===l?void 0:l.output1[1]," ").concat(A.symbol)})]}),Object(o.jsxs)("div",{className:"item first-item",children:[Object(o.jsx)("span",{className:"label",children:"Pool Size"}),Object(o.jsx)("span",{className:"pool-size",children:"".concat(null===l||void 0===l?void 0:l.output2[1]," ").concat(A.symbol," + ").concat(null===l||void 0===l?void 0:l.output2[0]," ").concat(s.tokenReceive.symbol)})]})]}):Object(o.jsxs)("div",{className:"item first-item",children:[Object(o.jsx)("span",{className:"label",children:"Pool Size"}),Object(o.jsx)("span",{className:"pool-size",children:"".concat(null===l||void 0===l?void 0:l.output1[0]," ").concat(s.tokenSell.id===ce?s.tokenReceive.symbol:s.tokenSell.symbol," + ").concat(null===l||void 0===l?void 0:l.output1[1]," ").concat(A.symbol)})]}):Object(o.jsx)("div",{className:"item first-item",children:Object(o.jsx)("span",{className:"label",children:"Pool Size"})})]})}),le=(ae=function(e){var n,t,a=e.outputValue,i=e.outputToken,l=c.a.useContext(p),r=c.a.useState(!1),d=Object(s.a)(r,2),u=d[0],f=d[1],v=c.a.useState(!1),m=Object(s.a)(v,2),k=m[0],x=m[1],S=B(),y=S.data,g=S.isSuccess,N=c.a.useState({output1:null,output2:null}),T=Object(s.a)(N,2),I=T[0],w=T[1],D=c.a.useState({fee:0,feeToken:{}}),P=Object(s.a)(D,2),R=P[0],C=P[1],E=c.a.useState({impact:0,showWarning:!1}),V=Object(s.a)(E,2),L=V[0],z=V[1];return c.a.useEffect((function(){y&&l.setPairs(y.pairs)}),[y]),c.a.useEffect((function(){if(g){var e=function(e){var n=e.inputToken,t=e.outputToken,o=e.pairs,a=100,c=A;if((null===n||void 0===n?void 0:n.id)===ce||(null===t||void 0===t?void 0:t.id)!==ce)return{fee:a=400,feeToken:c=A};var i=(o||[]).find((function(e){return e.keys.includes(n.id)&&e.keys.includes(ce)&&e[ce]>1e13}));if(n.id!==ce&&i){var l=Math.max(q(i,A,100,n),20);c=n,a=4*l}else a=400,c=A;return{fee:a,feeToken:c}}({pairs:null===y||void 0===y?void 0:y.pairs,inputToken:l.tokenSell,outputToken:l.tokenReceive}),n=function(e,n,t){var o=Y(e,n,t),a=Object(s.a)(o,2),c=a[0],i=a[1];if(c){var l=c[null===e||void 0===e?void 0:e.id]||0,r=c[W]||0;e.id===W&&(l=c[null===n||void 0===n?void 0:n.id]||0);var d=G(l,e.id===W?null===n||void 0===n?void 0:n.pDecimals:null===e||void 0===e?void 0:e.pDecimals,!0),u=G(r,A.pDecimals,!0);if(i){var f=i[null===n||void 0===n?void 0:n.id]||0,b=i[W]||0;return{output1:[d,u],output2:[G(f,null===n||void 0===n?void 0:n.pDecimals,!0),G(b,A.pDecimals,!0)]}}return{output1:[d,u],output2:null}}return{output1:null,output2:null}}(l.tokenSell,l.tokenReceive,(null===y||void 0===y?void 0:y.pairs)||[]);w(n),C(e)}}),[g,l.tokenSell,l.tokenReceive]),c.a.useEffect((function(){x(!1),f(!1)}),[null===l||void 0===l?void 0:l.tokenSell,null===l||void 0===l||null===(n=l.tokenReceive)||void 0===n?void 0:n.Icon]),c.a.useEffect((function(){var e,n,t,o,c,i=J(l.amount*Math.pow(10,null===(e=l.tokenSell)||void 0===e?void 0:e.pDecimals),l.tokenSell,a,0,null===(n=l.tokenSell)||void 0===n?void 0:n.priceUsd,null===(t=l.tokenSell)||void 0===t?void 0:t.pDecimals,null===(o=l.tokenReceive)||void 0===o?void 0:o.priceUsd,null===(c=l.tokenReceive)||void 0===c?void 0:c.pDecimals);z(i)}),[a]),Object(o.jsxs)("div",{className:"trading-page",children:[Object(o.jsxs)("div",{className:"trading-top",children:[Object(o.jsx)("span",{children:"From"}),Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsx)("input",{onChange:function(e){l.setAmount(e.target.value)},type:"number",placeholder:"0",value:l.amount}),l.tokenSell.id?Object(o.jsxs)("div",{onClick:function(){return l.onHandleSelectTokens("sell")},className:"token-select-input  cursor-pointer",children:[u?Object(o.jsx)(j.a,{className:"icon-unknown",icon:O.a}):Object(o.jsx)("img",{onError:function(){f(!0)},className:"token-select",src:l.tokenSell.Icon,alt:"token"}),Object(o.jsxs)("div",{className:"token-selector",children:[Object(o.jsx)("span",{children:l.tokenSell.symbol}),Object(o.jsx)(j.a,{className:"icon",icon:h.b})]})]}):Object(o.jsxs)("div",{onClick:function(){return l.onHandleSelectTokens("sell")},className:"token-select-input cursor-pointer ",children:[Object(o.jsx)("span",{className:"font-semibold",children:"Choose a token"})," ",Object(o.jsx)(j.a,{className:"icon",icon:h.b})]})]})]}),Object(o.jsx)("div",{onClick:function(){l.setTokenSell(l.tokenReceive),l.setTokenReceive(l.tokenSell)},className:"cursor-pointer container-icon",children:Object(o.jsx)(j.a,{className:"icon",icon:h.a})}),Object(o.jsxs)("div",{className:"trading-bottom",children:[Object(o.jsx)("span",{children:"To"}),Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsx)("input",{onChange:function(){},type:"text",value:a*Math.pow(10,-(null===i||void 0===i?void 0:i.pDecimals))||0}),(null===(t=l.tokenReceive)||void 0===t?void 0:t.id)?Object(o.jsxs)("div",{className:"token-select-output",children:[k?Object(o.jsx)(j.a,{className:"icon-unknown",icon:O.a}):Object(o.jsx)("img",{onError:function(){x(!0)},className:"token-img-output",src:l.tokenReceive.Icon,alt:"token"}),Object(o.jsxs)("div",{onClick:function(){return l.onHandleSelectTokens("receive")},className:"cursor-pointer token-selector",children:[Object(o.jsx)("span",{children:l.tokenReceive.symbol}),Object(o.jsx)(j.a,{icon:h.b,className:"icon"})]})]}):Object(o.jsxs)("div",{onClick:function(){return l.onHandleSelectTokens("receive")},className:"token-select-output cursor-pointer ",children:[Object(o.jsx)("span",{className:"font-semibold",children:"Choose a token"})," ",Object(o.jsx)(j.a,{className:"icon",icon:h.b})]})]})]}),Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsx)(b,{children:Object(o.jsx)("div",{className:"btn-primary cursor-not-allowed opacity-60",children:Object(o.jsx)("a",{href:"#/",className:"cursor-not-allowed",children:"Connect LSB Wallet"})})})}),Object(o.jsx)(ie,{impact:L,fee:R,poolSize:I})]})},function(e){var n=c.a.useState(0),t=Object(s.a)(n,2),a=t[0],i=t[1],l=c.a.useState("0"),r=Object(s.a)(l,2),d=r[0],u=r[1],f=c.a.useState(0),b=Object(s.a)(f,2),v=b[0],m=b[1],p=c.a.useState(!1),j=Object(s.a)(p,2),h=j[0],O=j[1],x=c.a.useState(null),g=Object(s.a)(x,2),T=g[0],I=g[1],w=e.inputToken,D=e.inputValue,P=e.outputToken,R=B(),C=R.data,E=R.isSuccess,A=c.a.useState([]),V=Object(s.a)(A,2),L=V[0],z=V[1];c.a.useEffect((function(){E&&z((null===C||void 0===C?void 0:C.pairs)||[])}),[E]);var F=function(){var e=Object(y.a)(S.a.mark((function e(n,t,o,a){var c,l,s,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,te({sellAmount:o,sellToken:n,buyToken:t});case 4:c=e.sent,l=c.maxAmountOut,s=l,i(l),m(s),0===s||isNaN(s)?u("0"):(r=U(s,t.PDecimals),u(r)),I(c),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),m(0),i(0),u("0"),I(null);case 19:return e.prev=19,O(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,13,19,22]])})));return function(n,t,o,a){return e.apply(this,arguments)}}(),M=c.a.useCallback(N.a.debounce(F,1e3),[]);return c.a.useEffect((function(){0!==L.length&&(w&&P&&D&&function(e){var n,t=null===(n=K({pair:e,inputToken:w,inputValue:D,outputToken:P,slippage:1}))||void 0===n?void 0:n.minimumAmount;i(t);var o=N.a.floor(.99*t);m(o);var a=U(o,P.pDecimals);(0===t||0===o||N.a.isNaN(o))&&(a=0),I(null),u(a.toString())}(L),w&&P&&!D&&(M.cancel(),O(!1)),D||(i(0),u("0"),m(0),I(null)))}),[w,D,P,L]),Object(o.jsx)(ae,Object(k.a)({},Object(k.a)(Object(k.a)({},e),{},{outputToken:P,outputValue:a,outputText:d,minimumAmount:v,quote:T,gettingQuote:h})))}),se=(t(131),t(83)),re=t(87),de=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var a=new re.a(e,{keys:t,useExtendedSearch:!0});return a},ue=Object(se.setup)({cache:{maxAge:3e4,readOnError:function(e){return e.response.status>=400&&e.response.status<600},clearOnStale:!0}}),fe=function(){return Object(w.a)("useFetchToken.name",be,{refetchOnWindowFocus:!1,refetchInterval:216e3})},be=function(){var e=Object(y.a)(S.a.mark((function e(){var n,t,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("https://api-service.incognito.org/ptoken/list");case 2:return n=e.sent,t=n.data.Result.map((function(e){return Object(k.a)(Object(k.a)({IsCustom:!1,Icon:"https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/".concat((e.Symbol||e.PSymbol).toLowerCase(),"@2x.png")},e),{},{TokenType:"pToken"})})),o={TokenID:W,Name:"PRV",PSymbol:"pPRV",Symbol:"pPRV",IsCustom:!1,TokenType:"pToken",Icon:"https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/prv@2x.png",Verified:!0,PDecimals:9},e.abrupt("return",Object(g.keyBy)(Object(g.concat)([o],t),"TokenID"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=t(6),me=t(175),pe=t(3),je=t(185),he=t(22),Oe=t(181),ke=t(172),xe=Object(ve.p)(),Se=xe.palette,ye=xe.semanticColors,ge=xe.fonts,Ne=Object(ve.r)({container:{overflow:"auto",maxHeight:160},itemCell:[Object(ve.l)(xe,{inset:-1}),{minHeight:54,padding:10,boxSizing:"border-box",borderBottom:"1px solid ".concat(ye.bodyDivider),display:"flex",selectors:{"&:hover":{background:Se.neutralLight}}}],itemImage:{flexShrink:0},itemContent:{marginLeft:10,overflow:"hidden",flexGrow:1},itemName:[ge.xLarge,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],itemIndex:{fontSize:ge.small.fontSize,color:Se.neutralTertiary,marginBottom:10},chevron:{alignSelf:"center",marginLeft:10,color:Se.neutralTertiary,fontSize:ge.large.fontSize,flexShrink:0}}),Te=function(e){var n=e.tokens,t=e.onHandleSelectToken,a=e.dataContext;return Object(o.jsx)(je.a,{direction:he.a.vertical,children:Object(o.jsx)("div",{className:Ne.container,"data-is-scrollable":!0,children:Object(o.jsx)(Oe.a,{items:n,onRenderCell:function(e,n,c){return function(e,n,t,a,c){var i,l,s={imageUrl:null===e||void 0===e?void 0:e.Icon,imageInitials:(null===e||void 0===e?void 0:e.Name[0])+(null===e||void 0===e?void 0:e.Name[1]),text:null===e||void 0===e?void 0:e.Name,secondaryText:(null===e||void 0===e?void 0:e.PSymbol)||(null===e||void 0===e?void 0:e.Symbol)};return Object(o.jsx)("div",{onClick:function(){return a(e)},className:"".concat((null===(i=c.tokenSell)||void 0===i?void 0:i.Symbol)===e.Symbol||(null===(l=c.tokenReceive)||void 0===l?void 0:l.Symbol)===e.Symbol?"opacity-50":""," cursor-pointer ").concat(Ne.itemCell),"data-is-focusable":!0,children:Object(o.jsx)(me.a,Object(k.a)(Object(k.a)({},s),{},{presence:e.Verified?pe.b.online:pe.b.offline,imageAlt:"Image"}))})}(e,0,0,t,a)}})})})},Ie=function(){var e,n=c.a.useContext(p),t=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=fe().data;return Object(w.a)("useSearchableOnlyVerifiedToken.name",(function(){return de.apply(void 0,[Object.values(o).filter((function(e){return e.Verified}))].concat(n))}))}("Symbol","PSymbol","Name","TokenID"),a=t.data,i=t.isSuccess,l=c.a.useMemo((function(){return i&&n.tokens?""!=="".concat(n.valueInputSearch).trim()?a.search("^".concat(n.valueInputSearch)).map((function(e){return e.item})):Object(g.orderBy)(Object(g.filter)(n.tokens,{Verified:!0}),["Verified","Symbol","PSymbol","IsCustom"],["desc","asc","asc","desc"]):[]}),[n.tokens,n.valueInputSearch,a,i]);return Object(o.jsxs)("div",{className:"select-token",children:[Object(o.jsx)("div",{onClick:n.onHandleSelectTokens,className:"overlay"}),Object(o.jsxs)("div",{className:"select-token-panel",children:[Object(o.jsxs)("div",{className:"heading-primary",children:[Object(o.jsx)("h3",{children:"Select Token"}),Object(o.jsx)(ke.a,{onClick:n.onHandleSelectTokens,iconProps:{iconName:"ChromeClose"},title:"Close",ariaLabel:"Close"})]}),Object(o.jsx)("div",{className:"input-token",children:Object(o.jsx)("input",{onChange:function(e){return n.setValueInputSearch(e.target.value)},value:n.valueInputSearch,type:"text",placeholder:"Search name or paste address"})}),Object(o.jsxs)("div",{className:"list-token",children:[Object(o.jsxs)("div",{className:"token-heading",children:[Object(o.jsx)("p",{children:"Token Name"}),Object(o.jsx)(ke.a,{iconProps:{iconName:"SortLines"},title:"Close",ariaLabel:"Close"})]}),n.fetchTokensSuccess?Object(o.jsx)(Te,{dataContext:n,onHandleSelectToken:function(e){"sell"===n.tokenActive?n.setTokenSell({id:e.TokenID,name:e.Name,displayName:e.Name,symbol:e.PSymbol,pDecimals:e.PDecimals,hasIcon:!0,originalSymbol:e.PSymbol,isVerified:e.Verified,Icon:e.Icon,priceUsd:e.PriceUsd,address:e.ContractID}):"receive"===n.tokenActive&&n.setTokenReceive({id:e.TokenID,name:e.Name,displayName:e.Name,symbol:e.PSymbol,pDecimals:e.PDecimals,hasIcon:!0,originalSymbol:e.PSymbol,isVerified:e.Verified,Icon:e.Icon,priceUsd:e.PriceUsd,address:e.ContractID}),n.onHandleSelectTokens()},tokens:(e=l,0!==n.pairs.length&&e?e.filter((function(e){return!!n.pairs.find((function(n){return n[e.TokenID]}))})):e)}):null]})]})]})};t(132);function we(){return Object(o.jsx)("div",{className:"bottom-button",children:Object(o.jsx)("div",{className:"left",children:Object(o.jsx)(b,{children:Object(o.jsx)("div",{className:"connect cursor-not-allowed opacity-60",children:Object(o.jsx)("a",{className:"cursor-not-allowed",href:function(){return!1},children:"Connect to LSB Wallet"})})})})})}t(133);var De=function(){var e=c.a.useState(""),n=Object(s.a)(e,2),t=n[0],a=n[1],i=c.a.useState([]),l=Object(s.a)(i,2),r=l[0],d=l[1],u=c.a.useState({Icon:"https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/prv@2x.png",id:"0000000000000000000000000000000000000000000000000000000000000004",name:"PRV",displayName:"Privacy",symbol:"PRV",pDecimals:9,hasIcon:!0,originalSymbol:"PRV",isVerified:!0}),f=Object(s.a)(u,2),b=f[0],v=f[1],j=c.a.useState(""),h=Object(s.a)(j,2),O=h[0],k=h[1],x=c.a.useState({Icon:"",id:"",name:"",displayName:"",symbol:"",pDecimals:0,hasIcon:!1,originalSymbol:"",isVerified:!1}),S=Object(s.a)(x,2),y=S[0],g=S[1],N=fe(),T=N.data,I=N.isSuccess,w=c.a.useState([]),D=Object(s.a)(w,2),P=D[0],R=D[1],C=c.a.useState("0"),E=Object(s.a)(C,2),A=E[0],V=E[1],L=c.a.useState(!1),B=Object(s.a)(L,2),z=B[0],F=B[1];return c.a.useEffect((function(){if(I){var e=[];for(var n in T)e.push(T[n]);d(e)}}),[I]),Object(o.jsx)(p.Provider,{value:{tokenActive:t,valueInputSearch:O,setValueInputSearch:k,tokens:r,fetchTokensSuccess:I,onHandleSelectTokens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&a(e),z&&k(""),F(!z)},tokenSell:b,setTokenSell:v,tokenReceive:y,setTokenReceive:g,amount:A,setAmount:V,pairs:P,setPairs:R},children:Object(o.jsxs)("div",{children:[z?Object(o.jsx)(Ie,{}):null,Object(o.jsx)(m,{}),Object(o.jsx)(le,{inputToken:b,inputValue:parseFloat(A.replace(",","."))*Math.pow(10,null===b||void 0===b?void 0:b.pDecimals),outputToken:y}),Object(o.jsx)(we,{})]})})},Pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,186)).then((function(n){var t=n.getCLS,o=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),o(e),a(e),c(e),i(e)}))},Re=t(173),Ce=t(176),Ee=t(82),Ae=new Ce.a;Object(Re.a)(),l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(Ee.a,{client:Ae,children:Object(o.jsx)(De,{})})}),document.getElementById("root")),Pe()}},[[134,1,2]]]);
//# sourceMappingURL=main.5b17b5de.chunk.js.map