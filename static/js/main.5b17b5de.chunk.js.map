{"version":3,"sources":["components/Tooltips/Tooltips.js","assets/logo.png","components/Navbar/Navbar.js","Context/MyContext.js","services/trading/convert.js","services/trading/fee/pairsData.js","services/trading/format.js","constant/token.js","services/trading/utils.js","constants/api.js","services/trading/kyber.js","services/trading/index.jsx","constants/constants.js","screens/trading/components/overlay-detail.js","screens/trading/trading-page.js","services/trading/fee/fee.js","constants/fee.constant.js","queries/fulltext.js","queries/token.queries.js","screens/trading/components/select-token.js","bottom-button/bottom-button.js","App.js","reportWebVitals.js","index.js"],"names":["calloutProps","gapSpace","hostStyles","root","display","Tooltip","children","tooltipId","useId","style","TooltipHost","content","id","styles","Navbar","handleScroll","window","scrollY","document","querySelector","classList","add","remove","React","useEffect","addEventListener","removeEventListener","className","src","logo","alt","href","MyContext","createContext","replaceDecimals","text","autoCorrect","replace","toHumanAmount","originAmount","decimals","amount","number","_","toNumber","Number","isFinite","Error","checkAmount","toRealTokenValue","tokens","tokenId","value","token","find","item","Math","pow","pDecimals","BIG_COINS","PRIORITY_LIST","PRV","name","displayName","symbol","hasIcon","originalSymbol","isVerified","mergeTokens","chainTokens","pTokens","uniqBy","map","pToken","currencyType","address","contractId","min","verified","orderBy","indexOf","isString","toLowerCase","getPairsData","a","now","Date","Promise","all","fetch","then","res","json","result","Result","catch","err","console","log","method","headers","body","JSON","stringify","jsonrpc","params","chainPairs","end","debug","pairs","PDEPoolPairs","pair","Token1IDStr","Token1PoolValue","Token2IDStr","Token2PoolValue","filter","keys","includes","total","shares","PDEShares","Object","forEach","key","useGetPairsData","useQuery","removeTrailingZeroes","amountString","formattedString","length","slice","amountCreator","maxDigits","clipAmount","decimalDigits","fmt","decimalSeparator","groupSeparator","groupSize","_maxDigits","_amount","floor","undefined","BigNumber","toFormat","ROUND_DOWN","amountFull","PRV_TOKEN_ID","calculateOutputValue","inputToken","inputValue","outputToken","inputPool","outputPool","initialPool","newInputPool","ceil","error","calculateSizeImpact","outputValue","inputPriceUsd","inputPDecimals","outputPriceUsd","outputPDecimals","input","output","totalInputUsd","totalOutputUsd","impact","digits","isNaN","NaN","trunc","fixedNumber","minus","dividedBy","multipliedBy","formatSeparator","showWarning","getSlippagePercent","slippage","calculateOutputIncognitoNetWork","payload","getCouplePair","firstPair","secondPair","currentInputToken","calculateOutputValueCrossPool","minimumAmount","outputText","quote","inPair","outPair","API_BASE_URL","CRYPTO_SYMBOL","ERC20_NETWORK","getKyberQuote","sellToken","sellAmount","buyToken","sellAddress","buyAddress","url","axios","get","rates","bestRate","data","ListRate","rate","DappName","priorityList","maxAmountIn","AmountInput","dividedToIntegerBy","maxAmountOut","AmountOutput","expectAmount","ExpectedRate","protocol","dAppAddress","DappAddress","sortBy","Fee","priority","index","Name","toUpperCase","tradingFee","PRVAmount","gasPrice","GasPrice","e","network","crossTrade","WrappedComp","PRV_ID","OverlayDetail","fee","poolSize","useContext","tokenSell","tokenReceive","feeToken","toFixed","onFixedNumber","output1","output2","withCalculateOutput","useState","isErrorSell","setIsErrorSell","isErrorReceive","setIsErrorReceive","fetchedPairs","isSuccess","setPoolSize","setFee","setImpact","setPairs","MAX_FEE_PER_TX","MAX_DEX_FEE","prvPair","max","MAX_PDEX_TRADE_STEPS","prvFee","estimateFeeTrade","poolSz","formattedInputPool","formattedOutputPool","inputPool2","outputPool2","getPoolSize","Icon","temp","priceUsd","onChange","setAmount","target","type","placeholder","onClick","onHandleSelectTokens","icon","faQuestionCircle","onError","faChevronDown","setTokenSell","setTokenReceive","faArrowDown","props","setOutputValue","setOutputText","setMinimumAmount","gettingQuote","setGettingQuote","setQuote","getQuote","PDecimals","debouncedGetQuote","useCallback","debounce","toString","cancel","createTokenSearchIndex","tokenLists","searchFields","fuseIndex","Fuse","useExtendedSearch","api","setup","cache","maxAge","readOnError","response","status","clearOnStale","useFetchToken","getTokenList","refetchOnWindowFocus","refetchInterval","tokensMapped","i","IsCustom","Symbol","PSymbol","TokenType","TokenID","Verified","keyBy","concat","theme","getTheme","palette","semanticColors","fonts","classNames","mergeStyleSets","container","overflow","maxHeight","itemCell","getFocusStyle","inset","minHeight","padding","boxSizing","borderBottom","bodyDivider","selectors","background","neutralLight","itemImage","flexShrink","itemContent","marginLeft","flexGrow","itemName","xLarge","whiteSpace","textOverflow","itemIndex","fontSize","small","color","neutralTertiary","marginBottom","chevron","alignSelf","large","ListTokens","onHandleSelectToken","dataContext","FocusZone","direction","FocusZoneDirection","vertical","data-is-scrollable","List","items","onRenderCell","isScrolling","tokensPersona","imageUrl","imageInitials","secondaryText","data-is-focusable","Persona","presence","PersonaPresence","online","offline","imageAlt","SelectToken","tokenList","values","useSearchableOnlyVerifiedToken","searchIndex","useMemo","valueInputSearch","trim","search","IconButton","iconProps","iconName","title","ariaLabel","setValueInputSearch","fetchTokensSuccess","tokenActive","PriceUsd","ContractID","BottomButton","App","setTokenActive","setTokens","isOpenSelectTokens","setIsOpenSelectTokens","push","Provider","active","parseFloat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","queryClient","QueryClient","initializeIcons","ReactDOM","render","StrictMode","QueryClientProvider","client","getElementById"],"mappings":"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","file":"static/js/main.5b17b5de.chunk.js","sourcesContent":["import { TooltipHost } from '@fluentui/react'\nimport { useId } from '@uifabric/react-hooks'\n\n\nconst calloutProps = { gapSpace: 0 }\nconst hostStyles = { root: { display: 'inline-block' } }\nexport const Tooltip = ({children}) => {\n  const tooltipId = useId('tooltip');\n\n  return (\n    <div style={{display:'flex'}}>\n\t\t\t<TooltipHost\n        content=\"Coming soon!\"\n        id={tooltipId}\n        calloutProps={calloutProps}\n        styles={hostStyles}\n      >\n        {children}\n      </TooltipHost>\n\t\t</div>\n\n  );\n};","export default __webpack_public_path__ + \"static/media/logo.8f68dbf0.png\";","import React from 'react'\nimport { Tooltip } from 'components/Tooltips/Tooltips'\nimport logo from '../../assets/logo.png'\nimport './Navbar.css'\n\nexport const Navbar = () => {\n\tconst handleScroll = () => {\n\t\tif(window.scrollY > 20) {\n\t\t\tdocument.querySelector(\".navbar\").classList.add('scrolled');\n\t\t} else {\n\t\t\tdocument.querySelector(\".navbar\").classList.remove('scrolled')\n\t\t}\n\t}\n\tReact.useEffect(() => {\n\t\twindow.addEventListener(\"scroll\", handleScroll)\n\t\treturn (() => window.removeEventListener('scroll', handleScroll))\n\t}, [])\n\treturn (\n\t\t<div className=\"navbar\">\n\t\t\t<div className=\"navbar-left\">\n\t\t\t\t<div className=\"container-logo\">\n\t\t\t\t\t<img className=\"img-logo\" src={logo} alt=\"logo\" />\n\t\t\t\t\t<img className=\"img-logo-add\" src={logo} alt=\"logo\" />\n\t\t\t\t\t<img className=\"img-logo-add\" src={logo} alt=\"logo\" />\n\t\t\t\t</div>\n\n\t\t\t\t<ul className=\"list-menu\">\n\t\t\t\t\t<li className=\"menu-item active\">pSwap</li>\n\t\t\t\t\t{/* <li className=\"menu-item\">Charts</li> \n\t\t\t\t\t<li className=\"menu-item\">Stacking</li>\n\t\t\t\t\t<li className=\"menu-item\">LSB Token</li> */}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<Tooltip>\n\t\t\t\t<div className=\"cursor-not-allowed btn-trans\">\n\t\t\t\t\t<a href=\"#/\" className=\"btn cursor-not-allowed\">Connect LSB Wallet</a>\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t</div>\n\t\t\n\t)\n}","import React from 'react'\nexport const MyContext = React.createContext()","import _ from 'lodash'\n\nconst checkAmount = (amount) => {\n  if (!Number.isFinite(amount)) throw new Error('Can not format invalid amount')\n}\nconst replaceDecimals = (text, autoCorrect = false) => {\n  if (typeof text !== 'string') {\n    return text\n  }\n\n  if (autoCorrect) {\n    text = text.replace(/,/g, '')\n  }\n\n  return text\n}\n\nconst toNumber = (text, autoCorrect = false) => {\n  const number = replaceDecimals(text, autoCorrect)\n\n  return _.toNumber(number)\n}\nexport const toHumanAmount = (originAmount, decimals) => {\n  try {\n    const amount = toNumber(originAmount)\n    checkAmount(amount)\n\n    const decision_rate = Number(decimals) ? 10 ** Number(decimals) : 1\n    return amount / decision_rate\n  } catch {\n    return originAmount\n  }\n}\nexport const toRealTokenValue = (tokens, tokenId, value) => {\n  const token = tokens.find((item) => item.id === tokenId)\n  return value / Math.pow(10, token?.pDecimals || 0)\n}\n","import _ from 'lodash'\nimport { useQuery } from 'react-query'\nimport { toRealTokenValue } from '../convert'\n\nexport const BIG_COINS = {\n  PRV: '0000000000000000000000000000000000000000000000000000000000000004',\n  USDT: '716fd1009e2a1669caacc36891e707bfdf02590f96ebd897548e8963c95ebac0',\n  BTC: 'b832e5d3b1f01a4f0623f7fe91d6673461e1f5d37d91fe78c5c2e6183ff39696',\n  ETH: 'ffd8d42dc40a8d166ea4848baf8b5f6e912ad79875f4373070b59392b1756c8f',\n  BUSD: '9e1142557e63fd20dee7f3c9524ffe0aa41198c494aa8d36447d12e85f0ddce7',\n  USDC: '1ff2da446abfebea3ba30385e2ca99b0f0bbeda5c6371f4c23c939672b429a42',\n  BNB: 'b2655152784e8639fa19521a7035f331eea1f1e911b2f3200a507ebb4554387b',\n  DAI: '3f89c75324b46f13c7b036871060e641d996a24c09b3065835cb1d38b799d6c1',\n  SAI: 'd240c61c6066fed0535df9302f1be9f5c9728ef6d01ce88d525c4f6ff9d65a56',\n  TUSD: '8c3a61e77061265aaefa1e7160abfe343c2189278dd224bb7da6e7edc6a1d4db',\n  TOMO: 'a0a22d131bbfdc892938542f0dbe1a7f2f48e16bc46bf1c5404319335dc1f0df',\n  LINK: 'e0926da2436adc42e65ca174e590c7b17040cd0b7bdf35982f0dd7fc067f6bcf',\n  BAT: '1fe75e9afa01b85126370a1583c7af9f1a5731625ef076ece396fcc6584c2b44',\n  BAND: '2dda855fb4660225882d11136a64ad80effbddfa18a168f78924629b8664a6b3',\n  ZRX: 'de395b1914718702687b477703bdd36e52119033a9037bb28f6b33a3d0c2f867',\n  FTM: 'd09ad0af0a34ea3e13b772ef9918b71793a18c79b2b75aec42c53b69537029fe',\n  ZIL: '880ea0787f6c1555e59e3958a595086b7802fc7a38276bcd80d4525606557fbc',\n  MCO: 'caaf286e889a8e0cee122f434d3770385a0fd92d27fcee737405b73c45b4f05f',\n  GUSD: '465b0f709844be95d97e1f5c484e79c6c1ac51d28de2a68020e7313d34f644fe',\n  PAX: '4a790f603aa2e7afe8b354e63758bb187a4724293d6057a46859c81b7bd0e9fb',\n  KCS: '513467653e06af73cd2b2874dd4af948f11f1c6f2689e994c055fd6934349e05',\n  OMG: '249ca174b4dce58ea6e1f8eda6e6f74ab6a3de4e4913c4f50c15101001bb467b',\n  XMR: 'c01e7dc1d1aba995c19b257412340b057f8ad1482ccb6a9bb0adce61afbf05d4',\n  ETH_TESTNET: 'ffd8d42dc40a8d166ea4848baf8b5f6e9fe0e9c30d60062eb7d44a8df9e00854',\n}\n\nexport const PRIORITY_LIST = [\n  BIG_COINS.PRV,\n  BIG_COINS.USDC,\n  BIG_COINS.USDT,\n  BIG_COINS.DAI,\n  BIG_COINS.BTC,\n  BIG_COINS.ETH_TESTNET,\n  BIG_COINS.ETH,\n  BIG_COINS.XMR,\n  BIG_COINS.BUSD,\n  BIG_COINS.TUSD,\n  BIG_COINS.GUSD,\n  BIG_COINS.SAI,\n  BIG_COINS.PAX,\n  BIG_COINS.BNB,\n  BIG_COINS.MCO,\n  BIG_COINS.LINK,\n  BIG_COINS.KCS,\n  BIG_COINS.OMG,\n  BIG_COINS.TOMO,\n  BIG_COINS.BAND,\n  BIG_COINS.ZRX,\n  BIG_COINS.FTM,\n  BIG_COINS.ZIL,\n]\nexport const getPrivacyTokens = () => {\n  return fetch('https://api-service.incognito.org/pcustomtoken/list?tokenId=undefined')\n    .then((res) => res.json())\n    .then((result) => {\n      return result.Result\n    })\n    .catch((err) => console.log(err))\n}\nexport const getTokenList = () => {\n  return fetch('https://api-service.incognito.org/ptoken/list')\n    .then((res) => res.json())\n    .then((result) => {\n      return result.Result\n    })\n    .catch((err) => console.log(err))\n}\nexport const getPDEState = () => {\n  return fetch('https://device-network.incognito.org/chain', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      jsonrpc: '1.0',\n      method: 'getpdestate',\n      params: [],\n      id: 1,\n    }),\n  })\n    .then((res) => res.json())\n    .then((result) => result.Result)\n    .catch((err) => console.log(err))\n}\nexport const USDT = {\n  id: '716fd1009e2a1669caacc36891e707bfdf02590f96ebd897548e8963c95ebac0',\n  name: 'Tether USD',\n  displayName: 'Tether USD',\n  PDecimals: 6,\n  hasIcon: true,\n  originalSymbol: 'USDT',\n  isVerified: true,\n}\nexport const BTC = {\n  id: 'b832e5d3b1f01a4f0623f7fe91d6673461e1f5d37d91fe78c5c2e6183ff39696',\n  name: 'Bitcoin',\n  displayName: 'Bitcoin',\n  PDecimals: 9,\n  hasIcon: true,\n  originalSymbol: 'pBTC',\n  isVerified: true,\n}\nexport const PRV = {\n  id: '0000000000000000000000000000000000000000000000000000000000000004',\n  name: 'Privacy',\n  displayName: 'Privacy',\n  symbol: 'PRV',\n  pDecimals: 9,\n  hasIcon: true,\n  originalSymbol: 'PRV',\n  isVerified: true,\n}\nexport const mergeTokens = (chainTokens, pTokens) => {\n  return [\n    PRV,\n    ..._([...chainTokens, ...pTokens])\n      .uniqBy((item) => item.tokenId || item.id)\n      .map((item) => {\n        const pToken = pTokens.find((token) => token.tokenId === (item.tokenId || item.id))\n\n        if (pToken && pToken.symbol === 'ETH' && pToken.currencyType === 1) {\n          pToken.address = '0x0000000000000000000000000000000000000000'\n        }\n\n        return {\n          ...item,\n          address: pToken?.address || pToken?.contractId,\n          id: item.tokenId || item.id,\n          pDecimals: Math.min(pToken?.pDecimals || 0, 9),\n          decimals: pToken?.decimals,\n          hasIcon: !!pToken,\n          symbol: pToken?.symbol || item.symbol,\n          displayName: pToken ? `Privacy ${pToken.symbol}` : `Incognito ${item.name}`,\n          name: pToken ? pToken.name : item.name,\n          isVerified: item.verified || pToken?.verified,\n        }\n      })\n      .orderBy(\n        [\n          'hasIcon',\n          (item) => (PRIORITY_LIST.indexOf(item?.id) > -1 ? PRIORITY_LIST.indexOf(item?.id) : 100),\n          (item) => _.isString(item.symbol) && item.symbol.toLowerCase(),\n        ],\n        ['desc', 'asc'],\n      )\n      .value(),\n  ]\n}\nexport const getPairsData = async () => {\n  try {\n    const now = Date.now()\n    const [pTokens, chainTokens, chainPairs] = await Promise.all([getTokenList(), getPrivacyTokens(), getPDEState()])\n    const tokens = mergeTokens(chainTokens, pTokens)\n    const end = Date.now()\n    console.debug('LOAD PAIRS IN: ', end - now)\n    const pairs = _(chainPairs.PDEPoolPairs)\n      .map((pair) => ({\n        [pair.Token1IDStr]: pair.Token1PoolValue,\n        [pair.Token2IDStr]: pair.Token2PoolValue,\n        total: toRealTokenValue(tokens, pair.Token1IDStr, pair.Token1PoolValue) + toRealTokenValue(tokens, pair.Token2IDStr, pair.Token2PoolValue),\n        keys: [pair.Token1IDStr, pair.Token2IDStr],\n      }))\n      .filter((pair) => pair.keys.includes(BIG_COINS.PRV))\n      .filter((pair) => pair.total)\n      .orderBy('total', 'desc')\n      .value()\n    const shares = chainPairs.PDEShares\n    Object.keys(shares).forEach((key) => {\n      if (shares[key] === 0) {\n        delete shares[key]\n      }\n    })\n    return {\n      pairs,\n      tokens,\n      shares,\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\nexport const useGetPairsData = () => {\n  return useQuery('useGetPairsData.name', () => getPairsData())\n}\n","/* eslint-disable no-restricted-globals */\n/* eslint-disable no-restricted-properties */\nimport { BigNumber } from 'bignumber.js'\nimport _ from 'lodash'\nimport { toHumanAmount } from './convert'\n\nexport const fixedNumber = (number, digits = 3) => {\n  if (isNaN(number) || isNaN(digits)) return NaN\n  return Math.trunc(number * Math.pow(10, digits)) / Math.pow(10, digits)\n}\nconst removeTrailingZeroes = (amountString) => {\n  let formattedString = amountString\n  while (\n    formattedString.length > 0 &&\n    ((formattedString.includes('.') && formattedString[formattedString.length - 1] === '0') || formattedString[formattedString.length - 1] === '.')\n  ) {\n    formattedString = formattedString.slice(0, formattedString.length - 1)\n  }\n\n  return formattedString\n}\nexport const amountCreator = (maxDigits) => (amount, decimals, clipAmount = false, decimalDigits = false) => {\n  try {\n    const fmt = {\n      decimalSeparator: '.',\n      groupSeparator: ',',\n      groupSize: 3,\n    }\n\n    let _maxDigits = maxDigits\n\n    let _amount = toHumanAmount(amount, decimals)\n\n    if (clipAmount) {\n      let maxDigits = decimals\n      if (_amount > 0 && _amount < 1 && !!decimalDigits) {\n        maxDigits = 5\n      }\n      if (_amount > 1) {\n        maxDigits = 4\n      }\n      if (_amount > 1e3) {\n        maxDigits = 2\n      }\n      if (_amount > 1e5) {\n        maxDigits = 0\n      }\n      if (decimals) {\n        _amount = _.floor(_amount, Math.min(decimals, maxDigits))\n      } else {\n        _amount = _.floor(_amount, maxDigits)\n      }\n    }\n\n    if (!Number.isFinite(_amount)) throw new Error('Can not format invalid amount')\n\n    // if amount is too small, do not round it\n    if (_amount > 0 && _amount < 1) {\n      _maxDigits = undefined\n    }\n\n    return _amount ? removeTrailingZeroes(new BigNumber(_amount).toFormat(_maxDigits, BigNumber.ROUND_DOWN, fmt)) : 0\n  } catch {\n    return amount\n  }\n}\nconst AMOUNT_MAX_FRACTION_DIGITS = 4\nexport const amountFull = amountCreator(AMOUNT_MAX_FRACTION_DIGITS)\nexport const amount = amountCreator(AMOUNT_MAX_FRACTION_DIGITS)\n","export const PRV_TOKEN_ID = '0000000000000000000000000000000000000000000000000000000000000004'","import { PRV } from './fee/pairsData'\nimport { BigNumber } from 'bignumber.js'\nimport { toHumanAmount } from './convert'\nimport { fixedNumber, amount, amountFull } from './format'\nimport { PRV_TOKEN_ID } from 'constant/token'\nimport _, { isNaN, floor, ceil } from 'lodash';\n\nexport const calculateOutputValue = (pair, inputToken, inputValue, outputToken) => {\n  try {\n    if (!pair) {\n      return 0\n    }\n    // const [inputPool, outputPool] = getCouplePair(inputToken, outputToken)\n    const inputPool = pair[inputToken.id]\n    const outputPool = pair[outputToken.id]\n    const initialPool = inputPool * outputPool\n\n    const newInputPool = inputPool + inputValue\n    const newOutputPoolWithFee = _.ceil(initialPool / newInputPool)\n    return outputPool - newOutputPoolWithFee\n  } catch (error) {\n    console.debug('CALCULATE OUTPUT', error)\n  }\n}\nexport const calculateInputValue = (pair, inputToken, outputValue, outputToken) => {\n  try {\n    const inputPool = pair[inputToken.id]\n    const outputPool = pair[outputToken.id]\n    const initialPool = inputPool * outputPool\n    return _.ceil(initialPool / (outputPool - outputValue)) - inputPool\n  } catch (error) {\n    console.debug('CALCULATE OUTPUT', error)\n  }\n}\nexport const calculateInputValueCrossPool = (pairs, inputToken, outputValue, outputToken) => {\n  const firstPair = _.get(pairs, 0)\n  const secondPair = _.get(pairs, 1)\n  let currentOutputToken = inputToken\n  let inputValue = outputValue\n\n  if (secondPair) {\n    inputValue = calculateInputValue(secondPair, PRV, inputValue, outputToken)\n    currentOutputToken = PRV\n    inputValue = calculateInputValue(firstPair, inputToken, inputValue, currentOutputToken)\n  } else {\n    inputValue = calculateInputValue(firstPair, currentOutputToken, inputValue, outputToken)\n  }\n\n  if (inputValue < 0) {\n    inputValue = 0\n  }\n\n  return inputValue\n}\nexport const calculateOutputValueCrossPool = (pairs, inputToken, inputValue, outputToken) => {\n  const [firstPair, secondPair] = getCouplePair(inputToken, outputToken,pairs)\n  let currentInputToken = inputToken\n  let outputValue = inputValue\n  if (secondPair) {\n    outputValue = calculateOutputValue(firstPair, currentInputToken, outputValue, PRV)\n    currentInputToken = PRV\n  }\n\n  outputValue = calculateOutputValue(secondPair || firstPair, currentInputToken, outputValue, outputToken)\n  if (outputValue < 0) {\n    outputValue = 0\n  }\n  return outputValue\n}\n\nconst getImpact = (input, output) => {\n  input = new BigNumber(input)\n  output = new BigNumber(output)\n  return output.minus(input).dividedBy(input).multipliedBy(100).toNumber()\n}\nexport const calculateSizeImpact = (inputValue, inputToken, outputValue, outputToken, inputPriceUsd, inputPDecimals,  outputPriceUsd, outputPDecimals) => {\n  const totalInputUsd   = toHumanAmount(inputValue * inputPriceUsd, inputPDecimals);\n  const totalOutputUsd  = toHumanAmount(outputValue * outputPriceUsd, outputPDecimals);\n  if (totalInputUsd && totalOutputUsd) {\n    \n    const impact = fixedNumber(getImpact(totalInputUsd, totalOutputUsd), 3);\n    if (!isNaN(impact)) {\n      const formatSeparator = amount(impact);\n      return {\n        impact: impact > 0 ? `+${formatSeparator}` : formatSeparator,\n        showWarning: impact < -5\n      };\n    }\n  }\n  return {\n    impact: null,\n    showWarning: false\n  };\n};\nexport const calculatorOriginalOutputSlippage = (outputValue, slippage) => (\n  ceil(outputValue / getSlippagePercent(slippage))\n)\nexport const getSlippagePercent = (slippage) => ((100 - slippage) / 100)\nexport const calculateOutputIncognitoNetWork = (payload) => {\n  try {\n    const {\n      pair,\n      inputToken,\n      inputValue,\n      outputToken,\n      slippage\n    } = payload;\n    const outputValue = calculateOutputValueCrossPool(pair, inputToken, inputValue, outputToken);\n\n    const minimumAmount = floor(outputValue * getSlippagePercent(slippage));\n\n    let outputText = amountFull(minimumAmount, outputToken?.pDecimals);\n\n    if (outputValue === 0 || minimumAmount === 0 || isNaN(minimumAmount)) {\n      outputText = 0;\n    }\n\n    outputText = outputText + '';\n\n    return {\n      minimumAmount,\n      quote: null,\n      outputText,\n    };\n  } catch (error) {\n    console.debug('TRADE CALCULATOR TRADE STAGE INCOGNITO ERROR: ', error);\n  }\n};\nexport const getCouplePair = (inputToken, outputToken, pairs) => {\n  try {\n    if (inputToken && outputToken) {\n      // InputToken or OutputToken is PRV\n      if (inputToken?.id === PRV_TOKEN_ID || outputToken?.id === PRV_TOKEN_ID) {\n        const pair = pairs.find(\n          (item) =>\n            item.keys.includes(inputToken?.id) &&\n            item.keys.includes(outputToken?.id),\n        );\n        return [pair];\n      } else {\n        // Dont have PRV in InputToken & OutputToken\n        const inPair = pairs.find(\n          (item) =>\n            item.keys.includes(inputToken?.id) &&\n            item.keys.includes(PRV_TOKEN_ID),\n        );\n        const outPair = pairs.find(\n          (item) =>\n            item.keys.includes(outputToken?.id) &&\n            item.keys.includes(PRV_TOKEN_ID),\n        );\n        if (inPair && outPair) {\n          return [inPair, outPair];\n        }\n      }\n    }\n    return [];\n  } catch (error) {\n    console.debug('TRADE GET PAIR WITH ERROR', error);\n  }\n}\nexport const getPoolSize = (inputToken,outputToken, pairs) => {\n  const [firstPair,secondPair]= getCouplePair(inputToken, outputToken,pairs)\n  if(firstPair) {\n    var inputPool = firstPair[inputToken?.id] || 0;\n    const outputPool = firstPair[PRV_TOKEN_ID] || 0;\n    if(inputToken.id === PRV_TOKEN_ID) {\n      inputPool = firstPair[outputToken?.id] || 0\n    }\n    const formattedInputPool = amount(\n      inputPool,\n      inputToken.id ===PRV_TOKEN_ID?outputToken?.pDecimals : inputToken?.pDecimals,\n      true,\n    );\n    const formattedOutputPool = amount(\n      outputPool,\n      PRV.pDecimals,\n      true,\n    );\n    if(secondPair) {\n      const inputPool2 = secondPair[outputToken?.id] || 0;\n      const outputPool2 = secondPair[PRV_TOKEN_ID] || 0;\n      const formattedInputPool2 = amount(\n        inputPool2,\n        outputToken?.pDecimals,\n        true,\n      );\n      const formattedOutputPool2 = amount(\n        outputPool2,\n        PRV.pDecimals,\n        true,\n      );\n      return {\n        output1: [formattedInputPool, formattedOutputPool],\n        output2: [formattedInputPool2, formattedOutputPool2]\n      }\n    }\n    return {\n      output1: [formattedInputPool, formattedOutputPool],\n      output2: null\n    }\n  }\n  return {\n    output1: null,\n    output2: null\n  }\n} \n","export const API_BASE_URL = 'https://api-service.incognito.org'\nexport const API_BASE_URL2 = 'https://device-network.incognito.org/'\nexport const API_BASE_AUTH = 'https://test-api2.incognito.org'\n","import axios from 'axios'\nimport { sortBy } from 'lodash'\nimport { API_BASE_URL } from 'constants/api'\nimport BigNumber from 'bignumber.js'\n\nconst CRYPTO_SYMBOL = {\n  ETH: 'ETH',\n}\nconst ERC20_NETWORK = {\n  Kyber: 'Kyber',\n  Uniswap: 'Uniswap',\n  PDex: 'Incognito',\n}\nexport const MIN_PERCENT = 0.99\nexport async function getKyberQuote({ sellToken, sellAmount, buyToken }) {\n  let sellAddress = sellToken.address\n  let buyAddress = buyToken.address\n  if (sellToken.symbol === CRYPTO_SYMBOL.ETH) {\n    sellAddress = '0x0000000000000000000000000000000000000000'\n  }\n\n  if (buyToken.symbol === CRYPTO_SYMBOL.ETH) {\n    buyAddress = '0x0000000000000000000000000000000000000000'\n  }\n  const url = `${API_BASE_URL}/uniswap/rate?SrcToken=${sellAddress}&DestToken=${buyAddress}&AmountIn=${sellAmount}`\n  const rates = await axios.get(url)\n  const bestRate = rates?.data.Result.ListRate?.find((rate) => rate?.DappName === rates?.data.Result.DappName)\n  let expectAmount\n  let protocol\n  let dAppAddress\n  let maxAmountIn\n  let maxAmountOut\n  const priorityList = {}\n  if (bestRate) {\n    try {\n      maxAmountIn = new BigNumber(bestRate?.AmountInput || rates?.AmountInput || 0).dividedToIntegerBy(1).toNumber()\n      maxAmountOut = new BigNumber(bestRate?.AmountOutput || rates?.AmountOutput || 0).dividedToIntegerBy(1).toNumber()\n      expectAmount = bestRate?.ExpectedRate || rates?.ExpectedRate\n      protocol = bestRate?.DappName || rates?.DappName\n      dAppAddress = bestRate?.DappAddress || rates?.DappAddress\n      const priorityArray = sortBy(bestRate?.Fee || [], ['PRVAmount'])\n      priorityArray.forEach((priority, index) => {\n        const key = priority?.Name.toUpperCase()\n        const tradingFee = new BigNumber(priority?.PRVAmount || 0).dividedToIntegerBy(1).toNumber() || 0\n        const gasPrice = priority?.GasPrice\n        const number = ++index\n        priorityList[key] = { key, tradingFee, number, gasPrice }\n      })\n    } catch (e) {\n      console.debug('ERROR', e)\n    }\n  }\n  const data = {\n    maxAmountOut,\n    maxAmountIn,\n    expectAmount,\n    protocol,\n    dAppAddress,\n    priorityList,\n    network: ERC20_NETWORK.Kyber || ERC20_NETWORK.PDex,\n    crossTrade: ERC20_NETWORK.Kyber === ERC20_NETWORK.PDex,\n  }\n  console.debug('RESPONSE GETTING QUOTE ERC20 BEST RATE: ', bestRate)\n  console.debug('RESPONSE GETTING QUOTE ERC20 DATA: ', data)\n  return data\n}\n","import _ from 'lodash'\nimport React from 'react'\nimport { useGetPairsData } from 'services/trading/fee/pairsData'\nimport { calculateOutputIncognitoNetWork } from './utils'\nimport { getKyberQuote } from './kyber'\nimport { amountFull } from './format'\n\nexport const withCalculateOutput = (WrappedComp) => (props) => {\n  const [outputValue, setOutputValue] = React.useState(0)\n  const [outputText, setOutputText] = React.useState('0')\n  const [minimumAmount, setMinimumAmount] = React.useState(0)\n  const [gettingQuote, setGettingQuote] = React.useState(false)\n  const [quote, setQuote] = React.useState(null)\n  const { inputToken, inputValue, outputToken } = props\n  const { data, isSuccess } = useGetPairsData()\n  const [pair, setPairs] = React.useState([])\n  React.useEffect(() => {\n    if (isSuccess) {\n      setPairs(data?.pairs || [])\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSuccess]) // eslint-disable-line react-hooks/exhaustive-deps\n  const calculateOutputValue = (pair) => {\n    const outputValue = calculateOutputIncognitoNetWork({\n      pair: pair,\n      inputToken:inputToken,\n      inputValue: inputValue,\n      outputToken: outputToken,\n      slippage: 1\n    })?.minimumAmount\n    setOutputValue(outputValue)\n\n    const minimumAmount = _.floor(outputValue * 0.99)\n    setMinimumAmount(minimumAmount)\n\n    let outputText = amountFull(minimumAmount, outputToken.pDecimals)\n\n    if (outputValue === 0 || minimumAmount === 0 || _.isNaN(minimumAmount)) {\n      outputText = 0\n    }\n\n    setQuote(null)\n    setOutputText(outputText.toString())\n  }\n  const getQuote = async (inputToken, outputToken, value, id) => {\n    try {\n      setGettingQuote(true)\n      const quote = await getKyberQuote({\n        sellAmount: value,\n        sellToken: inputToken,\n        buyToken: outputToken,\n      })\n      const { maxAmountOut: outputValue } = quote\n      const minimumAmount = outputValue\n      setOutputValue(outputValue)\n      setMinimumAmount(minimumAmount)\n      if (minimumAmount === 0 || isNaN(minimumAmount)) {\n        setOutputText('0')\n      } else {\n        const outputText = amountFull(minimumAmount, outputToken.PDecimals)\n        setOutputText(outputText)\n      }\n      setQuote(quote)\n    } catch (error) {\n      setMinimumAmount(0)\n      setOutputValue(0)\n      setOutputText('0')\n      setQuote(null)\n    } finally {\n      setGettingQuote(false)\n    }\n  }\n  const debouncedGetQuote = React.useCallback(_.debounce(getQuote, 1000), [])  // eslint-disable-line react-hooks/exhaustive-deps\n  React.useEffect(() => {\n    if (pair.length !== 0) {\n      if (inputToken && outputToken && inputValue) {\n        calculateOutputValue(pair)\n      }\n\n      if (inputToken && outputToken && !inputValue) {\n        debouncedGetQuote.cancel()\n        setGettingQuote(false)\n      }\n      if (!inputValue) {\n        setOutputValue(0)\n        setOutputText('0')\n        setMinimumAmount(0)\n        setQuote(null)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputToken, inputValue, outputToken, pair])\n  return (\n    <WrappedComp\n      {...{\n        ...props,\n        outputToken,\n        outputValue,\n        outputText,\n        minimumAmount,\n        quote,\n        gettingQuote,\n      }}\n    />\n  )\n}\n","export const PRV_ID = '0000000000000000000000000000000000000000000000000000000000000004'\n\nexport const BIG_COINS = {\n  PRV: PRV_ID,\n  USDT: '716fd1009e2a1669caacc36891e707bfdf02590f96ebd897548e8963c95ebac0',\n  BTC: 'b832e5d3b1f01a4f0623f7fe91d6673461e1f5d37d91fe78c5c2e6183ff39696',\n  ETH: 'ffd8d42dc40a8d166ea4848baf8b5f6e912ad79875f4373070b59392b1756c8f',\n  BUSD: '9e1142557e63fd20dee7f3c9524ffe0aa41198c494aa8d36447d12e85f0ddce7',\n  USDC: '1ff2da446abfebea3ba30385e2ca99b0f0bbeda5c6371f4c23c939672b429a42',\n  BNB: 'b2655152784e8639fa19521a7035f331eea1f1e911b2f3200a507ebb4554387b',\n  DAI: '3f89c75324b46f13c7b036871060e641d996a24c09b3065835cb1d38b799d6c1',\n  SAI: 'd240c61c6066fed0535df9302f1be9f5c9728ef6d01ce88d525c4f6ff9d65a56',\n  TUSD: '8c3a61e77061265aaefa1e7160abfe343c2189278dd224bb7da6e7edc6a1d4db',\n  TOMO: 'a0a22d131bbfdc892938542f0dbe1a7f2f48e16bc46bf1c5404319335dc1f0df',\n  LINK: 'e0926da2436adc42e65ca174e590c7b17040cd0b7bdf35982f0dd7fc067f6bcf',\n  BAT: '1fe75e9afa01b85126370a1583c7af9f1a5731625ef076ece396fcc6584c2b44',\n  BAND: '2dda855fb4660225882d11136a64ad80effbddfa18a168f78924629b8664a6b3',\n  ZRX: 'de395b1914718702687b477703bdd36e52119033a9037bb28f6b33a3d0c2f867',\n  FTM: 'd09ad0af0a34ea3e13b772ef9918b71793a18c79b2b75aec42c53b69537029fe',\n  ZIL: '880ea0787f6c1555e59e3958a595086b7802fc7a38276bcd80d4525606557fbc',\n  MCO: 'caaf286e889a8e0cee122f434d3770385a0fd92d27fcee737405b73c45b4f05f',\n  GUSD: '465b0f709844be95d97e1f5c484e79c6c1ac51d28de2a68020e7313d34f644fe',\n  PAX: '4a790f603aa2e7afe8b354e63758bb187a4724293d6057a46859c81b7bd0e9fb',\n  KCS: '513467653e06af73cd2b2874dd4af948f11f1c6f2689e994c055fd6934349e05',\n  OMG: '249ca174b4dce58ea6e1f8eda6e6f74ab6a3de4e4913c4f50c15101001bb467b',\n  XMR: 'c01e7dc1d1aba995c19b257412340b057f8ad1482ccb6a9bb0adce61afbf05d4',\n  ETH_TESTNET: 'ffd8d42dc40a8d166ea4848baf8b5f6e9fe0e9c30d60062eb7d44a8df9e00854',\n}\n\nexport const PRIORITY_LIST = [\n  BIG_COINS.PRV,\n  BIG_COINS.USDC,\n  BIG_COINS.USDT,\n  BIG_COINS.DAI,\n  BIG_COINS.BTC,\n  BIG_COINS.ETH_TESTNET,\n  BIG_COINS.ETH,\n  BIG_COINS.XMR,\n  BIG_COINS.BUSD,\n  BIG_COINS.TUSD,\n  BIG_COINS.GUSD,\n  BIG_COINS.SAI,\n  BIG_COINS.PAX,\n  BIG_COINS.BNB,\n  BIG_COINS.MCO,\n  BIG_COINS.LINK,\n  BIG_COINS.KCS,\n  BIG_COINS.OMG,\n  BIG_COINS.TOMO,\n  BIG_COINS.BAND,\n  BIG_COINS.ZRX,\n  BIG_COINS.FTM,\n  BIG_COINS.ZIL,\n]\n","import React from 'react'\nimport './overlay-detail.css'\nimport { PRV } from 'services/trading/fee/pairsData'\nimport { MyContext } from 'Context/MyContext'\nimport { PRV_ID } from 'constants/constants'\n\nexport const OverlayDetail = ({impact, fee, poolSize}) => {\n\tconst data = React.useContext(MyContext)\n\tconst onFixedNumber = (fee) => {\n\t\t\n\t\tif(fee.fee < 100) {\n\t\t\treturn (fee?.fee * Math.pow(10,-fee.feeToken?.pDecimals)).toFixed(fee.feeToken?.pDecimals - 1)\n\t\t} else if ( fee.fee >= 100 && fee.fee <1000) {\n\t\t\treturn (fee?.fee * Math.pow(10,-fee.feeToken?.pDecimals)).toFixed(fee.feeToken?.pDecimals - 2)\n\t\t} else {\n\t\t\treturn (fee?.fee * Math.pow(10,-fee.feeToken?.pDecimals)).toFixed(fee.feeToken?.pDecimals - 3)\n\t\t}\n\t\t\n\t}\n\treturn ( \n\t\t<div className=\"overlay-detail\">\n\t\t\t<div className=\"item first-item\">\n\t\t\t\t<span className=\"label\">\n\t\t\t\t\tPrice Impact\n\t\t\t\t</span>\n\t\t\t\t<span className=\"price-impact\">{impact.impact || 0}%</span>\n\t\t\t</div>\n\t\t\t<div className=\"item first-item\">\n\t\t\t\t<span className=\"label\">\n\t\t\t\t\tFee\n\t\t\t\t</span>\n\t\t\t\t<span className=\"\">{data.tokenSell?.id && data.tokenReceive?.id ? onFixedNumber(fee) || 0 : 0}</span>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tpoolSize.output1 ? poolSize.output2 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"item first-item\">\n\t\t\t\t\t\t\t<span className=\"label\">\n\t\t\t\t\t\t\t\tPool Size\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"pool-size\">{`${poolSize?.output1[0]} ${data.tokenSell.symbol} + ${poolSize?.output1[1]} ${PRV.symbol}`}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"item first-item\">\n\t\t\t\t\t\t\t<span className=\"label\">\n\t\t\t\t\t\t\t\tPool Size\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"pool-size\">{`${poolSize?.output2[1]} ${PRV.symbol} + ${poolSize?.output2[0]} ${data.tokenReceive.symbol}`}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t):(\n\t\t\t\t\t<div className=\"item first-item\">\n\t\t\t\t\t\t\t<span className=\"label\">\n\t\t\t\t\t\t\t\tPool Size\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"pool-size\">{`${poolSize?.output1[0]} ${data.tokenSell.id === PRV_ID ? data.tokenReceive.symbol : data.tokenSell.symbol} + ${poolSize?.output1[1]} ${PRV.symbol}`}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t): <div className=\"item first-item\">\n\t\t\t\t\t\t\t<span className=\"label\">\n\t\t\t\t\t\t\t\tPool Size\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t}\n\n\t\t</div>\n\t)\n}","import React from 'react'\nimport './trading-page.css'\nimport { MyContext } from 'Context/MyContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown, faArrowDown } from '@fortawesome/free-solid-svg-icons'\nimport { faQuestionCircle } from '@fortawesome/free-regular-svg-icons'\nimport { withCalculateOutput } from 'services/trading'\nimport { estimateFeeTrade } from 'services/trading/fee/fee'\nimport { calculateSizeImpact, getPoolSize } from 'services/trading/utils'\nimport { OverlayDetail } from './components/overlay-detail'\nimport { useGetPairsData} from 'services/trading/fee/pairsData'\nimport { Tooltip } from 'components/Tooltips/Tooltips'\n\n\nexport const TradingPage = ({outputValue, outputToken}) => {\n\tconst data = React.useContext(MyContext)\n\tconst [isErrorSell, setIsErrorSell] = React.useState(false)\n\tconst [isErrorReceive, setIsErrorReceive] = React.useState(false)\n\tconst { data: pairs, isSuccess:fetchedPairs } = useGetPairsData()\n\tconst [poolSize, setPoolSize] = React.useState({\n\t\toutput1: null,\n\t\toutput2: null\n\t})\n\tconst [fee,setFee] = React.useState({\n\t\tfee: 0,\n\t\tfeeToken: {}\n\t})\n\tconst [impact, setImpact] = React.useState({\n\t\timpact: 0,\n\t\tshowWarning: false\n\t})\n\tconst onErrorLoadImageSell = () => {\n\t\tsetIsErrorSell(true)\n\t}\n\tconst onErrorLoadImageReceive = () => {\n\t\tsetIsErrorReceive(true)\n\t}\n\tReact.useEffect(() => {\n\t\tif(pairs) {\n\t\t\tdata.setPairs(pairs.pairs)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [pairs])\n\tReact.useEffect(() => {\n\n    if (fetchedPairs) {\n      const fee = estimateFeeTrade({\n        pairs: pairs?.pairs,\n        inputToken: data.tokenSell,\n        outputToken: data.tokenReceive,\n\t\t\t})\n\t\t\tlet poolSz  = getPoolSize(data.tokenSell, data.tokenReceive, pairs?.pairs || [])\n\t\t\tsetPoolSize(poolSz)\n      setFee(fee)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchedPairs, data.tokenSell, data.tokenReceive])\n\tReact.useEffect(() => {\n\t\tsetIsErrorReceive(false)\n\t\tsetIsErrorSell(false)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [data?.tokenSell, data?.tokenReceive?.Icon])\n\tReact.useEffect(() => {\n\t\tlet temp = calculateSizeImpact(data.amount * Math.pow(10, data.tokenSell?.pDecimals) , data.tokenSell, outputValue , outputToken, data.tokenSell?.priceUsd, data.tokenSell?.pDecimals,  data.tokenReceive?.priceUsd, data.tokenReceive?.pDecimals)\n\t\tsetImpact(temp)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [outputValue])\n\tconst onHandleSwitchButton = () => {\n\t\tdata.setTokenSell(data.tokenReceive)\n\t\tdata.setTokenReceive(data.tokenSell)\n\t}\n\treturn (\n\t\t<div className=\"trading-page\">\n\t\t\t<div className=\"trading-top\">\n\t\t\t\t<span>From</span>\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<input onChange={(e) => {data.setAmount(e.target.value)}} type=\"number\" placeholder=\"0\" value={data.amount} />\n\t\t\t\t\t{data.tokenSell.id ? <div onClick={() => data.onHandleSelectTokens('sell')}  className=\"token-select-input  cursor-pointer\">\n\t\t\t\t\t\t{!isErrorSell ? <img onError={onErrorLoadImageSell} className=\"token-select\" src={data.tokenSell.Icon} alt=\"token\"/>: <FontAwesomeIcon className=\"icon-unknown\" icon={faQuestionCircle} />}\n\t\t\t\t\t\t<div className=\"token-selector\">\n\t\t\t\t\t\t\t<span>{data.tokenSell.symbol}</span>\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"icon\" icon={faChevronDown} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>: <div onClick={() => data.onHandleSelectTokens('sell')} className=\"token-select-input cursor-pointer \"><span className=\"font-semibold\">Choose a token</span> <FontAwesomeIcon className=\"icon\" icon={faChevronDown} /></div>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div onClick={onHandleSwitchButton} className=\"cursor-pointer container-icon\">\n\t\t\t\t<FontAwesomeIcon className=\"icon\" icon={faArrowDown} />\n\t\t\t</div>\n\t\t\t<div className=\"trading-bottom\">\n\t\t\t\t<span>To</span>\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<input onChange={() =>{}} type=\"text\" value={outputValue  * Math.pow(10, -outputToken?.pDecimals) || 0}/>\n\t\t\t\t\t{data.tokenReceive?.id ? <div className=\"token-select-output\">\n\t\t\t\t\t{!isErrorReceive ? <img onError={onErrorLoadImageReceive} className=\"token-img-output\" src={data.tokenReceive.Icon} alt=\"token\"/>: <FontAwesomeIcon className=\"icon-unknown\" icon={faQuestionCircle} />}\n\t\t\t\t\t\t<div onClick={() => data.onHandleSelectTokens('receive')} className=\"cursor-pointer token-selector\">\n\t\t\t\t\t\t\t<span>{data.tokenReceive.symbol}</span>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faChevronDown} className=\"icon\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>: <div onClick={() => data.onHandleSelectTokens('receive')} className=\"token-select-output cursor-pointer \"><span className=\"font-semibold\">Choose a token</span> <FontAwesomeIcon className=\"icon\" icon={faChevronDown} /></div>}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-4\">\n\t\t\t<Tooltip>\n\t\t\t\t<div className=\"btn-primary cursor-not-allowed opacity-60\">\n\t\t\t\t\t<a href=\"#/\" className=\"cursor-not-allowed\" >Connect LSB Wallet</a>\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t\t<OverlayDetail impact={impact} fee={fee} poolSize={poolSize}/>\n\t\t</div>\n\t)\n}\nexport default withCalculateOutput(TradingPage)","import { MAX_DEX_FEE, MAX_PDEX_TRADE_STEPS } from 'constants/fee.constant'\nimport { PRV_ID } from 'constants/constants'\nimport { PRV } from './pairsData'\nimport { calculateOutputValue } from '../utils'\n\nexport const estimateFeeTrade = ({ inputToken, outputToken, pairs }) => {\n  let fee = MAX_DEX_FEE\n  let feeToken = PRV\n  if (inputToken?.id === PRV_ID || outputToken?.id !== PRV_ID) {\n    fee = MAX_DEX_FEE * 4\n    feeToken = PRV\n    return {\n      fee,\n      feeToken,\n    }\n  }\n\n  const prvPair = (pairs || []).find((item) => item.keys.includes(inputToken.id) && item.keys.includes(PRV_ID) && item[PRV_ID] > 10000 * 1e9)\n  const prvFee = MAX_DEX_FEE\n\n  if (inputToken.id !== PRV_ID && prvPair) {\n    const outputValue = Math.max(calculateOutputValue(prvPair, PRV, prvFee, inputToken), MAX_PDEX_TRADE_STEPS * 20)\n    feeToken = inputToken\n    fee = outputValue * 4\n  } else {\n    fee = prvFee * 4\n    feeToken = PRV\n  }\n\n  return {\n    fee,\n    feeToken,\n  }\n}\n","export const MAX_PDEX_TRADE_STEPS = 1\nexport const DEFAULT_FEE_PER_KB_HUMAN_AMOUNT = 0.000000001 // in nano\nexport const DEFAULT_NANO_MULTIPLER = 1e9\nexport const DEFAULT_FEE_PER_KB = DEFAULT_FEE_PER_KB_HUMAN_AMOUNT * DEFAULT_NANO_MULTIPLER // in nano\nexport const MAX_TX_SIZE = 100\nexport const MAX_FEE_PER_TX = DEFAULT_FEE_PER_KB * MAX_TX_SIZE\nexport const MAX_DEX_FEE = MAX_FEE_PER_TX * MAX_PDEX_TRADE_STEPS\nexport const PRV_ID = '0000000000000000000000000000000000000000000000000000000000000004'\n","import Fuse from 'fuse.js'\n\nexport const createTokenSearchIndex = (tokenLists, ...searchFields) => {\n  const fuseIndex = new Fuse(tokenLists, { keys: searchFields, useExtendedSearch: true })\n  return fuseIndex\n}\n","import { concat, keyBy } from 'lodash'\nimport { setup } from 'axios-cache-adapter'\nimport { PRV_TOKEN_ID } from '../constant/token'\nimport { useQuery } from 'react-query'\nimport { createTokenSearchIndex } from './fulltext'\n\nconst api = setup({\n  cache: {\n    maxAge: 30 * 1000,\n    readOnError: (error) => {\n      return error.response.status >= 400 && error.response.status < 600\n    },\n    clearOnStale: true,\n  },\n})\nexport const useFetchToken = () => {\n  return useQuery('useFetchToken.name', getTokenList, { refetchOnWindowFocus: false, refetchInterval: 60 * 60 * 60 })\n}\nexport const useSearchableTokenList = (...searchFields) => {\n  const { data: tokenList } = useFetchToken()\n  return useQuery('useSearchableTokenList.name', () => createTokenSearchIndex(Object.values(tokenList), ...searchFields),)\n}\n\nexport const useSearchableOnlyVerifiedToken = (...searchFields) => {\n  const { data: tokenList } = useFetchToken()\n  return useQuery(\n    'useSearchableOnlyVerifiedToken.name',\n    () =>\n      createTokenSearchIndex(\n        Object.values(tokenList).filter((i) => i.Verified),\n        ...searchFields,\n      ),\n  )\n}\nexport const getTokenList = async () => {\n\tconst tokens = await api.get('https://api-service.incognito.org/ptoken/list')\n\n  const tokensMapped = tokens.data.Result.map((i) => ({\n    IsCustom: false,\n    Icon: `https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/${(i.Symbol || i.PSymbol).toLowerCase()}@2x.png`,\n    ...i,\n    TokenType: 'pToken',\n  }))\n\tconst PRV = {\n    TokenID: PRV_TOKEN_ID,\n    Name: 'PRV',\n    PSymbol: 'pPRV',\n    Symbol: 'pPRV',\n    IsCustom: false,\n    TokenType: 'pToken',\n    Icon: 'https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/prv@2x.png',\n    Verified: true,\n    PDecimals: 9\n  }\n\n  return keyBy(concat([PRV], tokensMapped), 'TokenID')\n}\n","import React from 'react'\nimport './select-token.css'\nimport { MyContext } from 'Context/MyContext'\nimport {  useSearchableOnlyVerifiedToken } from 'queries/token.queries'\nimport { IconButton, getTheme,PersonaPresence, mergeStyleSets, getFocusStyle,Persona, FocusZoneDirection,  FocusZone, List } from '@fluentui/react'\nimport { orderBy, filter } from 'lodash'\nconst theme = getTheme();\nconst { palette, semanticColors, fonts } = theme;\nconst classNames = mergeStyleSets({\n  container: {\n    overflow: 'auto',\n    maxHeight: 160,\n  },\n  itemCell: [\n    getFocusStyle(theme, { inset: -1 }),\n    {\n      minHeight: 54,\n      padding: 10,\n      boxSizing: 'border-box',\n      borderBottom: `1px solid ${semanticColors.bodyDivider}`,\n      display: 'flex',\n      selectors: {\n        '&:hover': { background: palette.neutralLight },\n      },\n    },\n  ],\n  itemImage: {\n    flexShrink: 0,\n  },\n  itemContent: {\n    marginLeft: 10,\n    overflow: 'hidden',\n    flexGrow: 1,\n  },\n  itemName: [\n    fonts.xLarge,\n    {\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n    },\n  ],\n  itemIndex: {\n    fontSize: fonts.small.fontSize,\n    color: palette.neutralTertiary,\n    marginBottom: 10,\n  },\n  chevron: {\n    alignSelf: 'center',\n    marginLeft: 10,\n    color: palette.neutralTertiary,\n    fontSize: fonts.large.fontSize,\n    flexShrink: 0,\n  },\n})\nconst onRenderCell = (item, index, isScrolling, onHandleSelectToken, dataContext) => {\n    const tokensPersona = {\n        imageUrl: item?.Icon,\n        imageInitials: item?.Name[0] + item?.Name[1],\n        text: item?.Name,\n        secondaryText: item?.PSymbol || item?.Symbol,\n      };\n    return (\n      <div onClick={() => onHandleSelectToken(item)}  className={`${(dataContext.tokenSell?.Symbol === item.Symbol || dataContext.tokenReceive?.Symbol === item.Symbol) ? 'opacity-50': ''} cursor-pointer ${classNames.itemCell}`} data-is-focusable={true}>\n        <Persona {...tokensPersona} presence={item.Verified ? PersonaPresence.online : PersonaPresence.offline} imageAlt=\"Image\" />\n      </div>\n    );\n  }\nconst ListTokens = ({tokens, onHandleSelectToken, dataContext}) => {\n    return (\n      <FocusZone direction={FocusZoneDirection.vertical}>\n        <div className={classNames.container} data-is-scrollable>\n          <List items={tokens} onRenderCell={(item, index, isScrolling) => onRenderCell(item, index, isScrolling, onHandleSelectToken, dataContext)} />\n        </div>\n      </FocusZone>\n    );\n};\n  \nexport const SelectToken = () => {\n    const data = React.useContext(MyContext)\n    const { data: searchIndex, isSuccess } = useSearchableOnlyVerifiedToken('Symbol', 'PSymbol', 'Name', 'TokenID')\n    const onHandleSelectToken = (item) => {\n      if(data.tokenActive === 'sell'){\n        data.setTokenSell({\n          id: item.TokenID,\n          name: item.Name,\n          displayName: item.Name,\n          symbol: item.PSymbol,\n          pDecimals: item.PDecimals,\n          hasIcon: true,\n          originalSymbol: item.PSymbol,\n          isVerified: item.Verified,\n          Icon: item.Icon,\n          priceUsd: item.PriceUsd,\n          address: item.ContractID\n        })\n      } else if (data.tokenActive === 'receive') {\n        data.setTokenReceive({\n          id: item.TokenID,\n          name: item.Name,\n          displayName: item.Name,\n          symbol: item.PSymbol,\n          pDecimals: item.PDecimals,\n          hasIcon: true,\n          originalSymbol: item.PSymbol,\n          isVerified: item.Verified,\n          Icon: item.Icon,\n          priceUsd: item.PriceUsd,\n          address: item.ContractID\n        })\n      }\n      data.onHandleSelectTokens()\n    }\n    const onCheckCalculate = (tokens) => {\n      if(data.pairs.length !== 0 && tokens) {\n        return tokens.filter((token) => {\n          const pair =  data.pairs.find(pair => pair[token.TokenID])\n          if(pair) {\n            return true\n          } \n          return false\n        })\n      }\n      return tokens\n    }\n    const tokenList = React.useMemo(() => {\n      if(isSuccess) {\n        if (!data.tokens) {\n          return []\n        }\n        if (`${data.valueInputSearch}`.trim() !== '') {\n          const baseSearch = searchIndex\n          return baseSearch.search(`^${data.valueInputSearch}`).map((i) => i.item)\n        }\n        \n        return orderBy(filter(data.tokens, { Verified: true }), ['Verified', 'Symbol', 'PSymbol', 'IsCustom'], ['desc', 'asc', 'asc', 'desc'])\n      }\n      return []\n    }, [data.tokens, data.valueInputSearch, searchIndex, isSuccess])\n    return (\n        <div className=\"select-token\">\n            <div onClick={data.onHandleSelectTokens} className=\"overlay\"/>\n            <div className=\"select-token-panel\">\n                <div className=\"heading-primary\">\n                    <h3>Select Token</h3>\n                    <IconButton onClick={data.onHandleSelectTokens} iconProps={{ iconName: 'ChromeClose' }} title=\"Close\" ariaLabel=\"Close\" />\n                </div>\n                <div className=\"input-token\">\n                    <input onChange={(e) => data.setValueInputSearch(e.target.value)}value={data.valueInputSearch} type=\"text\" placeholder=\"Search name or paste address\"/>\n                </div>\n                <div className=\"list-token\">\n                  <div className=\"token-heading\">\n                    <p>Token Name</p>\n                    <IconButton iconProps={{ iconName: 'SortLines' }} title=\"Close\" ariaLabel=\"Close\" />\n                  </div>\n                {\n                    data.fetchTokensSuccess ? <ListTokens dataContext={data} onHandleSelectToken={onHandleSelectToken} tokens={onCheckCalculate(tokenList)}/> : null\n                }\n                </div>\n            </div>\n        </div>\n    )\n\n}","import React from 'react'\nimport { Tooltip } from 'components/Tooltips/Tooltips'\nimport './bottom-buttom.css'\n\nexport function BottomButton() {\n\treturn (\n\t\t<div className=\"bottom-button\">\n\t\t\t<div className=\"left\">\n\t\t\t\t<Tooltip>\n\t\t\t\t\t<div className=\"connect cursor-not-allowed opacity-60\">\n\t\t\t\t\t\t<a className=\"cursor-not-allowed\" href={() => false}>Connect to LSB Wallet</a>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react'\nimport { Navbar } from './components/Navbar/Navbar'\nimport TradingPage from './screens/trading/trading-page'\nimport { MyContext } from 'Context/MyContext'\nimport { SelectToken } from 'screens/trading/components/select-token'\nimport { useFetchToken } from 'queries/token.queries'\nimport { BottomButton } from './bottom-button/bottom-button'\nimport './tailwind.output.css'\nfunction App() {\n  const [tokenActive, setTokenActive] = React.useState('')\n  const [tokens, setTokens] = React.useState([])\n\n  const [tokenSell, setTokenSell] = React.useState({\n    Icon: \"https://s3.amazonaws.com/incognito-org/wallet/cryptocurrency-icons/32@2x/color/prv@2x.png\",\n    id: '0000000000000000000000000000000000000000000000000000000000000004',\n    name: 'PRV',\n    displayName: 'Privacy',\n    symbol: 'PRV',\n    pDecimals: 9,\n    hasIcon: true,\n    originalSymbol: 'PRV',\n    isVerified: true,\n  })\n  const [valueInputSearch, setValueInputSearch] = React.useState('')\n  const [tokenReceive, setTokenReceive] = React.useState({\n    Icon: \"\",\n    id: '',\n    name: '',\n    displayName: '',\n    symbol: '',\n    pDecimals: 0,\n    hasIcon: false,\n    originalSymbol: '',\n    isVerified: false,\n  })\n  const { data, isSuccess } = useFetchToken()\n  const [pairs, setPairs] = React.useState([])\n  const [ amount,setAmount ] = React.useState('0')\n  const [isOpenSelectTokens, setIsOpenSelectTokens] = React.useState(false)\n  const onHandleSelectTokens = (active = null) => {\n    if(active) {\n      setTokenActive(active)\n    }\n    if(isOpenSelectTokens) {\n      setValueInputSearch('')\n    }\n    setIsOpenSelectTokens(!isOpenSelectTokens)\n  }\n  React.useEffect(() => {\n    if(isSuccess) {\n      const temp = []\n      for(let key in data) {\n        temp.push(data[key])\n      }\n      setTokens(temp)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[isSuccess])\n  return (\n    <MyContext.Provider value={{\n      tokenActive:tokenActive,\n      valueInputSearch:valueInputSearch,\n      setValueInputSearch,\n      tokens: tokens,\n      fetchTokensSuccess: isSuccess,\n      onHandleSelectTokens,\n      tokenSell:tokenSell,\n      setTokenSell,\n      tokenReceive: tokenReceive,\n      setTokenReceive,\n      amount: amount,\n      setAmount,\n      pairs,\n      setPairs\n    }}>\n      <div>\n        {isOpenSelectTokens ? <SelectToken/> : null}\n        <Navbar/>\n        <TradingPage \n          inputToken={tokenSell}\n          inputValue={parseFloat(amount.replace(\",\", \".\")) * Math.pow(10,tokenSell?.pDecimals)}\n          outputToken={tokenReceive} \n        />\n        <BottomButton/>\n      </div>\n    </MyContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { initializeIcons } from '@fluentui/react';\nimport { QueryClient, QueryClientProvider } from 'react-query'\n \nconst queryClient = new QueryClient()\ninitializeIcons()\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}